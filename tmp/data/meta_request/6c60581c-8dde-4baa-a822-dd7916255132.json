[{"name":"sql.active_record","payload":{"sql":"SELECT  \"users\".* FROM \"users\"  WHERE \"users\".\"id\" = 1 LIMIT 1","name":"User Load","connection_id":46916868,"binds":[],"line":10,"filename":"C:/Sites/work/tulkit/app/controllers/application_controller.rb","method":"authorize"},"time":"2014-06-02T17:05:03-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:03-04:00","children":[],"duration":1.9889999999999999},{"name":"sql.active_record","payload":{"sql":"SELECT  \"jobs\".* FROM \"jobs\"  WHERE \"jobs\".\"id\" = $1 LIMIT 1","name":"Job Load","connection_id":46916868,"binds":[[{"oid_type":{},"array":false,"name":"id","sql_type":"integer","null":false,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":"nextval('jobs_id_seq'::regclass)","primary":true,"coder":null},"6"]],"line":29,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:03-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:03-04:00","children":[],"duration":1.9919999999999998},{"name":"sql.active_record","payload":{"sql":"              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"documents\"'::regclass\n                 AND a.attnum \u003E 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n","name":"SCHEMA","connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:51-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:51-04:00","children":[],"duration":2.078},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:51-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:51-04:00","children":[],"duration":0.966},{"name":"sql.active_record","payload":{"sql":"              SELECT COUNT(*)\n              FROM pg_class c\n              LEFT JOIN pg_namespace n ON n.oid = c.relnamespace\n              WHERE c.relkind in ('v','r')\n              AND c.relname = 'documents'\n              AND n.nspname = ANY (current_schemas(false))\n","name":"SCHEMA","connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:51-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:51-04:00","children":[],"duration":1.082},{"name":"sql.active_record","payload":{"sql":"            SELECT attr.attname\n            FROM pg_attribute attr\n            INNER JOIN pg_constraint cons ON attr.attrelid = cons.conrelid AND attr.attnum = cons.conkey[1]\n            WHERE cons.contype = 'p'\n              AND cons.conrelid = '\"documents\"'::regclass\n","name":"SCHEMA","connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:51-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:51-04:00","children":[],"duration":1.0610000000000002},{"name":"sql.active_record","payload":{"sql":"INSERT INTO \"documents\" (\"created_at\", \"direct_upload_url\", \"job_id\", \"updated_at\", \"upload_content_type\", \"upload_file_name\", \"upload_file_size\", \"upload_updated_at\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","name":"SQL","connection_id":46916868,"binds":[[{"oid_type":{},"array":false,"name":"created_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2014-06-02T21:05:51.557Z"],[{"oid_type":{},"array":false,"name":"direct_upload_url","sql_type":"character varying(255)","null":false,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"https://jobsuploadsdev.s3.amazonaws.com/uploads/1401743102151-grzft3qp7p17cik9-b7a5fdcfb265c267d8f898d1e07ea927/-01.jpg"],[{"oid_type":{},"array":false,"name":"job_id","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},6],[{"oid_type":{},"array":false,"name":"updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2014-06-02T21:05:51.557Z"],[{"oid_type":{},"array":false,"name":"upload_content_type","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"image/jpeg"],[{"oid_type":{},"array":false,"name":"upload_file_name","sql_type":"character varying(255)","null":true,"limit":255,"precision":null,"scale":null,"type":"string","default":null,"default_function":null,"primary":false,"coder":null},"-01.jpg"],[{"oid_type":{},"array":false,"name":"upload_file_size","sql_type":"integer","null":true,"limit":null,"precision":null,"scale":null,"type":"integer","default":null,"default_function":null,"primary":false,"coder":null},820839],[{"oid_type":{},"array":false,"name":"upload_updated_at","sql_type":"timestamp without time zone","null":true,"limit":null,"precision":null,"scale":null,"type":"datetime","default":null,"default_function":null,"primary":false,"coder":null},"2014-06-02T21:05:02.000Z"]],"exception":["PG::NotNullViolation","ERROR:  null value in column \"user_id\" violates not-null constraint\nDETAIL:  Failing row contains (7, null, https://jobsuploadsdev.s3.amazonaws.com/uploads/1401743102151-gr..., -01.jpg, image/jpeg, 820839, 2014-06-02 21:05:02, f, 2014-06-02 21:05:51.557704, 2014-06-02 21:05:51.557704, 6).\n"],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:52-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:52-04:00","children":[],"duration":3.902},{"name":"sql.active_record","payload":{"sql":"ROLLBACK","name":null,"connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:05:52-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:05:52-04:00","children":[],"duration":1.996},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":null,"connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:06:11-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:06:11-04:00","children":[],"duration":0.884},{"name":"sql.active_record","payload":{"sql":"ROLLBACK","name":null,"connection_id":46916868,"binds":[],"line":34,"filename":"C:/Sites/work/tulkit/app/controllers/documents_controller.rb","method":"create"},"time":"2014-06-02T17:06:11-04:00","transaction_id":"bd94ed9f80b2dc2911b2","end":"2014-06-02T17:06:11-04:00","children":[],"duration":1.887},{"name":"process_action.action_controller","payload":{"controller":"DocumentsController","action":"create","params":{"url":"https://jobsuploadsdev.s3.amazonaws.com/uploads%2F1401743102151-grzft3qp7p17cik9-b7a5fdcfb265c267d8f898d1e07ea927%2F-01.jpg","filepath":"/uploads%2F1401743102151-grzft3qp7p17cik9-b7a5fdcfb265c267d8f898d1e07ea927%2F-01.jpg","filename":"-01.jpg","filesize":"820839","lastModifiedDate":"Thu Apr 28 2011 17:45:00 GMT-0400 (Eastern Daylight Time)","filetype":"image/jpeg","unique_id":"grzft3qp7p17cik9","document":{"direct_upload_url":"https://jobsuploadsdev.s3.amazonaws.com/uploads%2F1401743102151-grzft3qp7p17cik9-b7a5fdcfb265c267d8f898d1e07ea927%2F-01.jpg"},"job_id":"6","action":"create","controller":"documents"},"format":"*/*","method":"POST","path":"/documents?job_id=6","exception":["ThreadError","killed thread"],"status":"500"},"time":"2014-06-02T17:05:03-04:00","transaction_id":"4e8327a21ce57e0f7ac7","end":"2014-06-02T17:07:35-04:00","children":[],"duration":151362.76499999998},{"name":"process_action.action_controller.exception","payload":{"call":"ThreadError (killed thread)"},"time":0,"transaction_id":null,"end":0,"children":[],"duration":0.0},{"name":"process_action.action_controller.exception","payload":{"call":"app/controllers/documents_controller.rb:34:in `create'"},"time":0,"transaction_id":null,"end":0,"children":[],"duration":0.0}]